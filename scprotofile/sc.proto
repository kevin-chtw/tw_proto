syntax = "proto3";

package scproto;
option go_package = "../scproto";

message SCReq {
  oneof req {
    SCRequestReq sc_request_req = 1;
    SCTrustReq sc_trust_req = 2;
    SCAnimationReq sc_animation_req = 3;
  }
}

message SCAck {
  oneof ack {
    SCGameStartAck sc_game_start_ack = 1;
    SCOpenDoorAck sc_open_door_ack = 2;
    SCRequestAck sc_request_ack = 3;
    SCPonAck sc_pon_ack = 4;
    SCKonAck sc_kon_ack = 5;
    SCHuAck sc_hu_ack = 6;
    SCDrawAck sc_draw_ack = 7;
    SCDiscardAck sc_discard_ack = 8;
    SCScoreChangeAck sc_score_change_ack = 9;
    SCResultAck sc_result_ack = 10;
    SCTrustAck sc_trust_ack = 11;
    SCAnimationAck sc_animation_ack = 12;
  }
}

message SCRequestReq {
  int32 seat = 1; //座位号
  int32 request_type = 2; // 动作类型
  int32 requestid = 3; // 请求ID
  int32 tile = 4; // 牌
}

message SCTrustReq {
  int32 seat = 1; //座位号
  bool trust = 2; // 是否托管
}

message SCAnimationReq {
  int32 seat = 1; //座位号
  int32 requestid = 2; // 请求ID
}

message SCGameStartAck {
  int32 banker = 1; //庄家
  int32 tile_count = 2; //牌库总张数
  repeated int64 scores = 3;//带入分
}

message SCOpenDoorAck {
  int32 seat = 1; //座位号
  repeated int32 tiles = 2; // 手牌列表
}

message SCRequestAck {
  int32 seat = 1; // //座位号
  int32 request_type = 2; // 动作类型
  int32 requestid = 3; // 请求ID
}

message SCPonAck {
  int32 seat = 1; //座位号
  int32 from = 2;//出牌座位号
  int32 tile = 3; //碰的牌列表
}

message SCKonAck {
  int32 seat = 1; //座位号
  int32 from = 2;//出牌座位号
  int32 tile = 3; //碰的牌列表
  int32 kon_type = 4; //杠牌的类型(0:明杠 1： 暗杠 2：补杠)
}

message SCHuAck {
  int32 pao_seat = 1; //点炮玩家
  int32 tile = 2; //胡的牌
  repeated SCHuData hu_data = 3; // 胡的类型
}

message SCHuData {
  int32 seat = 1; //座位号
  repeated int32 hu_types = 2; // 胡的类型
}

message SCDrawAck {
  int32 seat = 1;//座位号
  int32 tile = 2; //胡的牌
  int32 draw_type = 3; //0-空，1-普通，2-杠后
}

message SCDiscardAck {
  int32 seat = 1; //座位号
  int32 tile = 2; // 丢弃的牌
}

message SCScoreChangeAck {
  repeated int32 scores = 1; //得分列表
}

message SCTrustAck {
  int32 seat = 1; // 玩家ID
  bool trust = 2; // 是否托管
}

message SCAnimationAck {
  int32 requestid = 1; 
}   

message SCResultAck {
  repeated SCPlayerResult player_results = 2; // 玩家结果列表
}   

message SCPlayerResult {
  int32 seat = 1; // 玩家ID
  int32 score = 2; // 玩家得分
  repeated int32 tiles = 3; // 玩家手牌
}
