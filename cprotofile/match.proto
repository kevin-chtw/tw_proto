syntax = "proto3";

import "google/protobuf/any.proto";

package cproto;
option go_package = "../cproto";

message MatchReq {
  string serverid = 1;
  int32 matchid = 2; // 比赛ID
  google.protobuf.Any req = 3;
}

message MatchAck {
  string serverid = 1;
  int32 matchid = 2; // 比赛ID
  google.protobuf.Any ack = 3;
}

message CreateRoomReq {
  int32 game_count = 1; // 局数
  string desn = 2; //配置描述
  int32 pay_type = 3; //付费类型 // 0:队长支付，1：AA支付
  map<string, int32> properties = 4; // 配置信息 
  map<string, int32> match_config = 5; // 比赛配置信息 如人数，自动坐下，自动准备等
}

message CancelRoomReq {
  int32 tableid = 1;
}

message JoinRoomReq {
  int32 tableid = 1; // 桌号
}

message SignupReq {//报名
}

message SignoutReq {//取消报名
}

message ContinueReq {
}

message ExitMatchReq{  
}

message FDResultReq {
}

message SwitchTableReq {  
}

message CancelRoomAck {
  int32 tableid = 1;
}

message StartClientAck {
  string match_type = 1; //比赛类型
  string game_type = 2; //游戏类型
  string server_id = 3; //游戏服务Id
  int32 match_id = 4; //比赛ID
  int32 table_id = 5; //桌号
}

message SignupAck {
}

message SignoutAck {
}

message ContinueAck {  
}

message RestAck {  
}

message ExitMatchAck { //弹回大厅
}

// 比赛结果上报
message FDResultAck {
  int32 tableid = 1;
  int32 game_count = 2; // 总局数
  string owner_id = 3; // 房主ID
  string desn = 4; //配置描述
  map<string,int64> scores = 5; // 各玩家得分
  map<string,string> player_data = 6; // 比赛数据 （json）
  repeated string rounds = 7; // 各局数据 （json）
}

// 每局比赛结果上报
message FDRoundResultAck{
  int32 cur_game_count = 1; // 当前局数
  map<string,int64> scores = 5; // 各玩家得分
  map<string,string> player_data = 6; // 比赛数据 （json）
  string round_data = 4; // 当局数据 （json）
}