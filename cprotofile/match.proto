syntax = "proto3";

package cproto;
option go_package = "../cproto";

message MatchReq {
  string serverid = 1;
  int32 matchid = 2; // 比赛ID
  oneof req {
    CreateRoomReq create_room_req = 3;
    JoinRoomReq join_room_req = 4;
  }
}

message MatchAck {
  string serverid = 1;
  int32 matchid = 2; // 比赛ID
  oneof ack {
    CreateRoomAck create_room_ack = 3;
    JoinRoomAck join_room_ack = 4;
  }
}

message CreateRoomReq {
  int32 game_count = 1; // 局数
}

message JoinRoomReq {
  int32 gameid = 1; // 游戏ID
  int32 tableid = 2; // 桌号
}

message CreateRoomAck {
  int32 error_code = 1; // 0: 成功, 1: 房间已存在, 2: 房间已满
  int32 tableid = 2; // 桌号
}

message JoinRoomAck {
  int32 error_code = 3; // 0: 成功, 1: 房间不存在, 2: 密码错误, 3: 房间已满
  int32 tableid = 2; // 桌号
}
