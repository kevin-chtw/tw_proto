syntax = "proto3";

import "google/protobuf/any.proto";

package cproto;
option go_package = "../cproto";

message AccountReq {
  google.protobuf.Any req = 1;
}

message AccountAck {
  google.protobuf.Any ack = 1;
}

message LoginReq {
  string account = 1;
  string password = 2;
}

message RegisterReq {
  string account = 1; 
  string password = 2;
  string avatar = 3; //随机生成的头像内容
}

message AddCoinReq {  
  int64 coin = 1; // 需要增加的金币数量
}

message ShopReq{
  int32 shop_type = 1; // 商店类型 0:金币商店 1:元宝商店
}

message ShopAck{
  int32 shop_type = 1;
  string shop_info = 2; // 商店数据，json格式
}

message PurchaseReq {
  int32 shop_type = 1;
  int32 id = 2;  //商品id
}

message PurchaseAck {
  int32 shop_type = 1;
  map<int32, int64> goods = 2; // 商品id和数量
} 

message RegisterAck {  
  PlayerInfoAck player_info = 1; // 新注册玩家的信息
  RegisterAward award = 2; // 新注册玩家的奖励
}

message PlayerInfoAck {
  string uid = 1; // 玩家ID
  string nickname = 2; // 玩家昵称
  string avatar = 3; // 玩家头像
  int32 vip = 4; // VIP等级
  int64 diamond = 5; // 钻石
  int64 coin = 6; // 金币
}

message RegisterAward {
  int64 diamond = 1; // 新注册玩家获得的钻石
  int64 coin = 2; // 新注册玩家获得的金币
}