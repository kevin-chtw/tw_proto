syntax = "proto3";

import "google/protobuf/any.proto";

package sproto;
option go_package = "../sproto";

message Match2GameReq {
  int32 matchid = 1;
  int32 tableid = 2;
  google.protobuf.Any req = 3; // 请求内容
}

message Match2GameAck {
  int32 matchid = 1;
  int32 tableid = 2;
  google.protobuf.Any ack = 3; // 响应内容
}

message AddTableReq {  
  string match_type = 1; // 比赛服务类型
  int64 score_base = 2; // 分数基数
  int32 game_count = 3; // 游戏局数
  int32 player_count = 4; // 玩家数量
  string property = 5; // 游戏配置
  string creator = 6; // 创建者
  map<string,int32> fdproperty = 7; // 好友房自选配置
}

message AddPlayerReq {
  string playerid = 1; // 玩家ID
  int32 seat = 2; // 座位号
  string icon_url = 3; // 玩家头像
  string nickname = 4; // 玩家昵称
  int64 score = 5; // 玩家分数
}

message CancelTableReq {
  int32 reason = 1; // 取消原因
} 

message EmptyAck {}

message GameResultAck {
  int32 cur_game_count = 1; // 当前游戏局数
  repeated PlayerResult players = 2; // 玩家ID列表
}

message PlayerResult {
  string playerid = 1; // 玩家ID
  int64 score = 2; // 玩家得分
}

message GameOverAck {
  int32 cur_game_count = 1; // 当前游戏局数
}